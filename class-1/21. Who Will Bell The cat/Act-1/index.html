<!DOCTYPE HTML>
<html>
<head>
<meta charset="UTF-8" />
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"> 
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css">
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js"></script>

<style>

body{
	background-image:url('../../../img/bg.jpg');
	background-attachment:fixed;
	background-position:cover;
}
h2{
	padding:10px;
	text-align:center;
	background: linear-gradient(#FFEADC, #9198e5);
	margin-top:10px;
}
.container{
	background: linear-gradient(#FFEADC, #9198e5);
	background-attachment:fixed;
	background-position:cover;
	border-radius:20px;
	border:2px solid;
	margin-top:50px;
	padding:50px;
}
select{
	margin-top:10px;
}
.block {
    display: block;
    width: 100%;
    border: none;
    background-color: #ffffff;
    padding: 14px 28px;
    font-size: 26px;
    cursor: pointer;
	margin-top:10px;
    text-align: center;
}
.hidden{
	display:none;
}
#dim{
	margin-top:10px;
	font-size:20px;
}
@media only screen and (max-device-width: 480px) {
img{
	height:auto;
	width:100%;
	margin-top:50px;
}
#dim{
	padding:0px;
	text-align:left;
	width:100%;
	font-size:24px;
	margin-top:20px;
}
h2{
	margin-top:20px;
}
    }

 @media only screen and (min-device-width: 481px) {
       
    }
	
</style>
  
  </head>
<body>


<div class="ss">
<h2>LISTENING</h2>
<div class="container">
	<center><h3 style="padding:15px; font-size:30px;">Listen to some sentences being read out in the correct order. <br>Choose from the given options and order correctly.</h3>
	<img src="../../../img/play.png" style="width:200px;" onclick="play()"></center>
</div>
</div>

<div class="play hidden">
<div class="main">
<h2>LISTENING</h2>
<h2>Listen carefully and order correctly.</h2>

<center>
<div class="container">
	<div class="row" id="dim">
	<div class="col-md-12"  >
	<select class="form-control" id="tab0">
		<option selected disabled>     </option>
		<option>The tiny rat said, "Who will tie the bell around the Big Tom’s neck?"</option>
		<option>Uncle Gopi got Big Tom from Nat’s house.</option>
		<option>There were many rats in Uncle Gopi’s farm.</option>
	</select> <hr class="dashed">
	</div>
	</div>
	<div class="row" id="dim" >
	<div class="col-md-12">
	<select class="form-control" id="tab1">
		<option selected disabled>     </option>
		<option>There were many rats in Uncle Gopi’s farm.</option>
		<option>Aunt Gauri and Uncle Gopi were not happy.</option>
		<option>Big Tom did not let the rats come out.</option>
	</select> <hr class="dashed">
	</div>
	</div>
	<div class="row" id="dim"  >
	<div class="col-md-12">
	<select class="form-control" id="tab2">
		<option selected disabled>     </option>
		<option>Aunt Gauri and Uncle Gopi were not happy.</option>
		<option>The rats wanted to tie a bell around Big Tom’s neck.</option>
		<option>Uncle Gopi got Big Tom from Nat’s house.</option>
	</select> <hr class="dashed">	
	</div>
	</div>
	<div class="row" id="dim"  >
	<div class="col-md-12">
	<select class="form-control" id="tab3">
		<option selected disabled>     </option>
		<option>Uncle Gopi got Big Tom from Nat’s house.</option>
		<option>Big Tom did not let the rats come out.</option>
		<option>The tiny rat said, "Who will tie the bell around the Big Tom’s neck?"</option>
	</select> <hr class="dashed">
	</div>
	</div>
	<div class="row" id="dim"  >
	<div class="col-md-12">
	<select class="form-control" id="tab4">
		<option selected disabled>     </option>
		<option>The tiny rat said, "Who will tie the bell around the Big Tom’s neck?"</option>
		<option>The rats wanted to tie a bell around Big Tom’s neck.</option>
		<option>Aunt Gauri and Uncle Gopi were not happy.</option>
	</select> <hr class="dashed">
	</div>
	</div>
	<div class="row" id="dim"  >
	<div class="col-md-12">
	<select class="form-control" id="tab5">
		<option selected disabled>     </option>
		<option>The rats wanted to tie a bell around Big Tom’s neck.</option>
		<option>The tiny rat said, ‘Who will tie the bell around the Big Tom’s neck?’</option>
		<option>Big Tom did not let the rats come out.</option>
	</select> <hr class="dashed">
	
	</div>
	</div>
	<div class="row" >
	<div class="col-md-4">
		<button class="block" onclick="location.reload()"><span>Reset </span></button>
	</div>
	
	<div class="col-md-4">
		<button class="block" id="submit" onclick="check()" ><span>Submit </span></button>
	</div>

	<div class="col-md-4">
		<button class="block" id="sol" onclick="solve()"><span>Answer Key </span></button>
	</div>
	</div>
</div>
</div>
</div>

<br><br><br>

<div class="well hidden">
	<img src="../../../../english/Welldone.gif" width="100%" height="auto">
</div>

<audio id="audio2" src="../../../../english/try-again.mp3"></audio>
<audio id="audio1" src="../../../../english/well-done.mp3"></audio>

<audio id="s" src="audio/m1.wav"></audio>

</center>

<script>

function updateCurrentTime() {
	var x = document.getElementById("s");
	if(x.currentTime==x.duration){
		$('.play').removeClass('hidden')
		$('.ss').addClass('hidden')
	}
}

function play(){
	var audio = document.getElementById("s");
	audio.play();
	setInterval(function()
	{
		updateCurrentTime();
	},1000);
}


const answers = ['There were many rats in Uncle Gopi’s farm.',
'Aunt Gauri and Uncle Gopi were not happy.',
'Uncle Gopi got Big Tom from Nat’s house.',
'Big Tom did not let the rats come out.',
'The rats wanted to tie a bell around Big Tom’s neck.',
'The tiny rat said, ‘Who will tie the bell around the Big Tom’s neck?’'];

window.onload = function(e){ 
	$("#sol").css("pointer-events", "none");
}

function solve() {
	$('#submit').attr('disabled',true);
	$("select").css("color","green");
	$("select").css("border","1px solid green");
	
	let size = answers.length;
	var i=0;
	while(i<size){
		$('#tab'+i).val(answers[i]).change();
		i++;
		console.log(size);
	}
}

function check() {
	var C21A1_error = 0;
	var C21A1_score = 0;
	var C21A1_submit = 0;
	$('select').css('border','1px solid');
	$("#sol").css("pointer-events", "auto");	
	let size = answers.length;
	var i=0;
	var empty=0;	
	while(i<size){
		input_answer = $("#tab"+i).val();
		if(input_answer=='' || input_answer==null){
			empty++;
		}
		i++;
	}
	if(empty==size){
		$("#sol").css("pointer-events", "none");
	}
	var i=0;
	while(i<size){
		input_answer = $("#tab"+i).val();
		if(input_answer!=answers[i]){
			$('#tab'+i).css("border",'2px solid red');
			C21A1_error++;
			localStorage.setItem('C21A1_error', C21A1_error);
		}
		i++;
	}
	
	var i=0;
	var correct=0;
	while(i<size){
		input_answer = $("#tab"+i).val();
		if(input_answer==answers[i]){
			correct++;
			C21A1_score++;
			localStorage.setItem('C21A1_score', C21A1_score);
		}
		i++;
	}
	if(correct==size){
		setTimeout(function(){
			C21A1_submit++;
			localStorage.setItem('C21A1_submit', C21A1_submit);
			var audio = document.getElementById("audio1");
			audio.play();
			$('.main').addClass('hidden');
			$('.well').removeClass('hidden');
		},1000);
		
	}else{
		var audio = document.getElementById("audio2");
		audio.play();
	}
}


</script>

</body>
</html>